<link href="/css/book-show.css" rel="stylesheet">

<div class="col-lg-6 col-lg-offset-3">
    <div class="info">
        <img src="{{book.image}}" alt="{{book.title}}" height="230">
    </div>
    <div class="info">
        <h1>{{book.title}}</h1>
        <h3>{{book.author}}</h3>
        <h4>{{book.genre}}, <em>{{book.year}}</em></h4>
    </div>

    <div style="clear: both" ng-controller="TabsController">
        <div>
            <ul class="nav nav-pills">
                <li ng-class="{ active : isSelected(1)}">
                    <a href ng-click="selectTab(1)">Описание</a>
                </li>
                <li ng-class="{ active : isSelected(2)}">
                    <a href ng-click="selectTab(2)">Отзывы</a>
                </li>
            </ul>
        </div>
        <div class="panel description" ng-show="isSelected(1)">
            <p>{{book.description}}</p>
        </div>
        <div class="panel" ng-show="isSelected(2)">
            <blockquote ng-repeat="review in book.reviews">
                <span class="glyphicon glyphicon-trash" aria-hidden="true" ng-click="removeComment(review)"></span><b>
                Звёзд: {{review.stars}}</b><br>
                <p>{{review.body}}</p>
                <em>{{review.author}}</em>
            </blockquote>
            <hr>


            <!--Adding new review-->
            <div>
                <form class="form-horizontal" name="reviewForm" ng-controller="ReviewController"
                      ng-submit="reviewForm.$valid && addReview(book)"
                      novalidate>
                    <h3>Уже прочитали? Оставьте отзыв!</h3>
                    <blockquote>
                        <b>Звёзд: {{review.stars}}</b><br>
                        <p>{{review.body}}</p>
                        <em>{{review.author}}</em>
                    </blockquote>
                    <div class="form-group">
                        <label class="col-sm-2 control-label">Оценка</label>
                        <div class="col-sm-10" id="reviewStars-input">
                            <input id="star-4" type="radio" name="reviewStars" value="5" ng-model="review.stars"/>
                            <label title="gorgeous" for="star-4"></label>

                            <input id="star-3" type="radio" name="reviewStars" value="4" ng-model="review.stars"/>
                            <label title="good" for="star-3"></label>

                            <input id="star-2" type="radio" name="reviewStars" value="3" ng-model="review.stars"/>
                            <label title="regular" for="star-2"></label>

                            <input id="star-1" type="radio" name="reviewStars" value="2" ng-model="review.stars"/>
                            <label title="poor" for="star-1"></label>

                            <input id="star-0" type="radio" name="reviewStars" value="1" ng-model="review.stars"/>
                            <label title="bad" for="star-0"></label>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-sm-2 control-label">Ваше имя</label>
                        <div class="col-sm-10">
                            <input type="text" class="form-control" ng-model="review.author" required>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-sm-2 control-label">Отзыв</label>
                        <div class="col-sm-10">
                            <textarea class="form-control" rows="3" ng-model="review.body" required></textarea>
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="col-sm-offset-2 col-sm-10">
                            <button type="submit" class="btn btn-default">Готово</button>
                        </div>
                    </div>
                </form>
            </div>


        </div>
    </div>
</div>